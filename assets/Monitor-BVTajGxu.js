import{W as _}from"./UtilityNavbar-CzfCgum_.js";import g from"./TemplateDefault-BCs3i3Pq.js";import{S as w}from"./SectionHero-C_f05kHS.js";import{_ as h,c as b,w as n,r as d,o as i,a as m,b as t,t as o,f,F as v,g as k,d as c}from"./index-XFgfkqT_.js";const y={components:{WrapperPage:_,TemplateDefault:g,SectionHero:w},inject:["io"],props:["renderer"],data:()=>({address:"",workers:[]}),async created(){try{await this.inspectLeader(),await this.getWorkers()}catch{}},methods:{async getWorkers(){this.workers=await this.io.service("workers").find()},async inspectLeader(){var e;const s=await this.io.service("state").get();if(s.leaderIP)this.address=s.leaderIP;else{const r=await this.io.service("docker_nodes").find({query:{leader:!0}}),a=(e=r==null?void 0:r.data)==null?void 0:e[0];a&&(this.address=a.address)}}}},W={class:"flex-col max-w-md place-self-center mt-8 mb-24 w-full flex md:max-w-4xl"},D={class:"px-4 mb-4 mt-2 font-medium text-xl w-full"},P={class:"mt-6 relative mb-16 flex-col md:flex-row flex w-full px-4"},S={class:"grid-cols-2 md:grid-cols-3 gap-11 grid w-full"},B={class:"p-4 bg-slate-700 from-slate-800 aspect-video shadow-md rounded-lg items-center justify-center flex-col bg-gradient-to-tr flex cursor-pointer hover:opacity-80"},I={class:"text-slate-100"};function L(s,e,r,a,T,C){const p=d("SectionHero"),u=d("WrapperPage"),x=d("TemplateDefault");return i(),b(x,{renderer:r.renderer},{default:n(()=>[m(p,null,{default:n(()=>e[0]||(e[0]=[t("h1",{class:"font-thin text-xl lg:text-3xl xl:pl-6 w-full text-center"}," Monitor ",-1)])),_:1,__:[0]}),m(u,{class:"flex-col"},{default:n(()=>[t("div",W,[e[4]||(e[4]=t("h1",{class:"px-4 mb-2 mt-6 font-medium text-3xl w-full"}," Cluster Workers ",-1)),t("h1",D," Leader node address: "+o(s.address),1),t("div",P,[t("div",S,[(i(!0),f(v,null,k(s.workers,l=>(i(),f("div",B,[t("h2",I,[c(" ID: "+o(l.id)+" ",1),e[1]||(e[1]=t("br",null,null,-1)),c(" PID: "+o(l.pid)+" ",1),e[2]||(e[2]=t("br",null,null,-1)),c(" State: "+o(l.state),1)])]))),256))]),e[3]||(e[3]=t("div",{class:"-mb-8 bg-slate-100 -bottom-5 absolute h-0.5 left-4 right-4"},null,-1))])])]),_:1})]),_:1},8,["renderer"])}const j=h(y,[["render",L]]);export{j as default};
