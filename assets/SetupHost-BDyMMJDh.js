import{T as p}from"./TemplateSetup-Co6CAMFK.js";import{_ as r,c as u,w as m,r as c,o as f,b as o,d as g,e as a,v as n,t as h}from"./index-COJNagva.js";import"./UtilityNavbar-BstfAzFS.js";import"./TemplateDefault-DFeK-qxG.js";const b={inject:["io"],components:{TemplateSetup:p},data:()=>({config:{leaderIP:"",appURL:"",adminHost:""},loading:!1}),async created(){await this.connect(),this.config.leaderIP=this.getIP()},methods:{async connect(){this.loading=!0;const t=await this.io.service("setup").get("host");this.resolve(t)},async setup(){this.loading=!0;let t=await this.io.service("setup").update("host",{...this.config});this.resolve(t)},async resolve(t){console.log("res",t),t&&!t.ready||this.$router.push("/login"),this.loading=!1},getIP(){const t=location.hostname;return/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/.test(t)?t:""}}},v=["disabled"],w={class:"mt-2"};function I(t,e,l,P,y,i){const d=c("TemplateSetup");return f(),u(d,null,{default:m(()=>[e[4]||(e[4]=o("h2",{class:"mb-2"}," Setup Host ",-1)),e[5]||(e[5]=g()),a(o("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>t.config.leaderIP=s),class:"mb-3 font-extralight text-slate-800 py-2.5 px-2 rounded-md w-full",placeholder:"Leader IP: 127.0.0.1"},null,512),[[n,t.config.leaderIP]]),a(o("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>t.config.appURL=s),class:"mb-3 font-extralight text-slate-800 py-2.5 px-2 rounded-md w-full",placeholder:"API hostname: http://localhost"},null,512),[[n,t.config.appURL]]),a(o("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>t.config.adminHost=s),class:"mb-3 font-extralight text-slate-800 py-2.5 px-2 rounded-md w-full",placeholder:"Admin url: http://admin.localhost"},null,512),[[n,t.config.adminHost]]),o("button",{onClick:e[3]||(e[3]=s=>i.setup()),disabled:t.loading,class:"hover:bg-fuchsia-950 mt-4 rounded-lg bg-fuchsia-900 w-full p-3",title:"Setup host"}," Submit ",8,v),o("h2",w," Loading: "+h(t.loading),1)]),_:1,__:[4,5]})}const $=r(b,[["render",I]]);export{$ as default};
