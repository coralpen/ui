import{T as r}from"./TemplateSetup-DmMsZDer.js";import{_ as p,c as u,w as f,r as g,o as m,b as a,d as o,e as n,v as l,t as b}from"./index-XFgfkqT_.js";import"./UtilityNavbar-CzfCgum_.js";import"./TemplateDefault-BCs3i3Pq.js";const w={inject:["io"],components:{TemplateSetup:r},data:()=>({config:{host:"",port:"",user:"",password:"",database:""},loading:!1}),async created(){await this.connect()},methods:{async connect(){this.loading=!0;const e=await this.io.service("setup").get("database");this.resolve(e)},async setup(e=!1){this.loading=!0;let t=await this.io.service("setup").update("database",{...this.config,create:e});this.resolve(t)},async resolve(e){e&&!e.ready?e!=null&&e.config&&(this.config=e.config):this.$router.push("/login"),this.loading=!1}}},v=["disabled"],y=["disabled"],x={class:"mt-2"};function h(e,t,C,T,V,i){const d=g("TemplateSetup");return m(),u(d,null,{default:f(()=>[t[7]||(t[7]=a("h2",{class:"mb-2"}," Connect to database ",-1)),t[8]||(t[8]=o()),n(a("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>e.config.email=s),class:"mb-3 font-extralight text-slate-800 py-2.5 px-2 rounded-md w-full",placeholder:"Host: 127.0.0.1"},null,512),[[l,e.config.email]]),t[9]||(t[9]=o()),n(a("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>e.config.passwor=s),class:"mb-3 font-extralight text-slate-800 py-2.5 px-2 rounded-md w-full",placeholder:"Port: 3306"},null,512),[[l,e.config.passwor]]),t[10]||(t[10]=o()),n(a("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>e.config.user=s),class:"mb-3 font-extralight text-slate-800 py-2.5 px-2 rounded-md w-full",placeholder:"Username:"},null,512),[[l,e.config.user]]),t[11]||(t[11]=o()),n(a("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>e.config.password=s),class:"mb-3 font-extralight text-slate-800 py-2.5 px-2 rounded-md w-full",placeholder:"Password:"},null,512),[[l,e.config.password]]),t[12]||(t[12]=o()),n(a("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>e.config.database=s),class:"mb-3 font-extralight text-slate-800 py-2.5 px-2 rounded-md w-full",placeholder:"Database:"},null,512),[[l,e.config.database]]),t[13]||(t[13]=o()),a("button",{onClick:t[5]||(t[5]=s=>i.setup()),disabled:e.loading,class:"hover:bg-fuchsia-950 mt-2 rounded-lg bg-fuchsia-900 w-full p-3",title:"Install using already running database instance"}," Connect to existing database ",8,v),t[14]||(t[14]=o()),a("button",{onClick:t[6]||(t[6]=s=>i.setup(!0)),disabled:e.loading,class:"hover:bg-fuchsia-950 mt-4 rounded-lg bg-fuchsia-900 w-full p-3",title:"Install using already running database instance"}," Create a new database ",8,y),a("h2",x," Loading: "+b(e.loading),1)]),_:1,__:[7,8,9,10,11,12,13,14]})}const D=p(w,[["render",h]]);export{D as default};
