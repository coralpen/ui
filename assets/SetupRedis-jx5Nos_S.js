import{T as a}from"./TemplateSetup-Co6CAMFK.js";import{_ as n,c as r,w as d,r as u,o as p,b as s,d as c,e as g,v as f,t as m}from"./index-COJNagva.js";import"./UtilityNavbar-BstfAzFS.js";import"./TemplateDefault-DFeK-qxG.js";const h={inject:["io"],components:{TemplateSetup:a},data:()=>({config:{url:"redis://localhost:6379"},loading:!1}),async created(){await this.connect()},methods:{async connect(){this.loading=!0;const e=await this.io.service("setup").get("redis");this.resolve(e)},async setup(e=!0){this.loading=!0;let t=await this.io.service("setup").update("redis",{...this.config,redis:e});this.resolve(t)},async resolve(e){console.log("res",e),e&&!e.ready||this.$router.push("/login"),this.loading=!1}}},b=["disabled"],v=["disabled"],w={class:"mt-2"};function S(e,t,y,T,k,o){const l=u("TemplateSetup");return p(),r(l,null,{default:d(()=>[t[3]||(t[3]=s("h2",{class:"mb-2"}," Setup Redis ",-1)),t[4]||(t[4]=c()),g(s("input",{"onUpdate:modelValue":t[0]||(t[0]=i=>e.config.url=i),class:"mb-3 font-extralight text-slate-800 py-2.5 px-2 rounded-md w-full",placeholder:"redis://"},null,512),[[f,e.config.url]]),s("button",{onClick:t[1]||(t[1]=i=>o.setup()),disabled:e.loading,class:"hover:bg-fuchsia-950 mt-4 rounded-lg bg-fuchsia-900 w-full p-3",title:"Install using cluster for loadbalancing with redis"}," Submit ",8,b),s("button",{onClick:t[2]||(t[2]=i=>o.setup(!1)),disabled:e.loading,class:"hover:bg-fuchsia-950 mt-4 rounded-lg bg-fuchsia-900 w-full p-3",title:"Install without using clustering"}," Skip clustering ",8,v),s("h2",w," Loading: "+m(e.loading),1)]),_:1,__:[3,4]})}const B=n(h,[["render",S]]);export{B as default};
