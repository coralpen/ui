import{W as f}from"./UtilityNavbar-CzfCgum_.js";import y from"./TemplateDefault-BCs3i3Pq.js";import{S as g}from"./SectionHero-C_f05kHS.js";import{_ as U,c as V,w as i,r as u,o as c,a as h,b as e,f as b,e as l,v as o,i as m,F as C,g as z,t as I}from"./index-XFgfkqT_.js";const M={components:{WrapperPage:f,TemplateDefault:y,SectionHero:g},inject:["menus","io","server"],props:["renderer"],data:()=>({items:null,service:"oauth_providers",create:{provider:"",key:"",secret:"",scope:"",nonce:!1,token:"",setup_url:""}}),async created(){try{this.resetCreate(),await this.getItems()}catch{}},methods:{consent(a,t="github"){if(!a)return;let d=this.server;(d==="/"||!d)&&(d=location.origin);const p=d.endsWith("/")?`oauth/${t}`:`/oauth/${t}`,x=encodeURIComponent(`${d}${p}/callback?app_url=${location.origin}/oauth-token-stored`);window.open(a+`&redirect_uri=${x}`,"_blank")},async getItems(){this.items=await this.io.service(this.service).find({query:{}})},async createItem(){try{await this.io.service(this.service).create(this.create),await this.getItems(),this.resetCreate()}catch(a){console.error(a),alert(a.message)}},async updateItem(a){let t={...a};delete t.consent_url,delete t.callback_url;try{const d=await this.io.service(this.service).update(a.id,t);for(const p of Object.keys(a))a[p]=d[p]}catch(d){console.error(d),alert(d.message)}},async removeItem(a){try{await this.io.service(this.service).remove(a.id),await this.getItems()}catch(t){console.error(t),alert(t.message)}},resetCreate(){this.create={provider:"",key:"",secret:"",scope:"",nonce:!1,token:"",setup_url:""}}}},A={class:"flex-col flex relative overflow-auto w-full"},B={class:"flex-row-reverse flex"},S={class:"overflow-auto shadow-sm my-8"},H={class:"border-collapse table-auto w-full text-sm"},D={class:"bg-white dark:bg-slate-800"},L={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},P={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},R={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},T={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},W={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},$={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},N={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},j={class:"border-b border-slate-100 dark:border-slate-700 p-4 pr-8 text-slate-500 dark:text-slate-400"},F={class:"text-ellipsis overflow-hidden border-b border-slate-100 dark:border-slate-700 p-4 pl-8 text-slate-500 dark:text-slate-400"},O={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},q=["onUpdate:modelValue"],E={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},K=["onUpdate:modelValue"],G={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},J=["onUpdate:modelValue"],Q={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},X=["onUpdate:modelValue"],Y={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},Z=["onUpdate:modelValue"],ee={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},te=["onUpdate:modelValue"],re={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},ae=["onUpdate:modelValue"],se={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},le=["onUpdate:modelValue"],oe={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},de=["onClick","onUpdate:modelValue"],ne={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},ce=["onUpdate:modelValue"],pe={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},be=["onUpdate:modelValue"],ie={class:"border-b border-slate-100 dark:border-slate-700 p-4 pr-8 text-slate-500 dark:text-slate-400"},ue=["onClick"],xe={class:"border-b border-slate-100 dark:border-slate-700 p-4 pr-8 text-slate-500 dark:text-slate-400"},ke=["onClick"];function he(a,t,d,p,x,n){const v=u("SectionHero"),w=u("WrapperPage"),_=u("TemplateDefault");return c(),V(_,{renderer:d.renderer},{default:i(()=>[h(v,null,{default:i(()=>t[9]||(t[9]=[e("h1",{class:"font-thin text-xl lg:text-3xl xl:pl-6 w-full text-center uppercase"}," Authentication ",-1)])),_:1,__:[9]}),h(w,{class:"max-w-screen-2xl p-6"},{default:i(()=>{var k;return[e("div",A,[e("div",B,[e("button",{class:"rounded p-2 bg-slate-200",onClick:t[0]||(t[0]=(...r)=>n.getItems&&n.getItems(...r))}," Reload ")]),e("div",S,[e("table",H,[t[19]||(t[19]=e("thead",null,[e("tr",null,[e("th",{class:"border-b dark:border-slate-600 font-medium p-4 pl-8 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-left"}," ID "),e("th",{class:"text-center border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200"}," Provider "),e("th",{class:"text-center border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200"}," Key "),e("th",{class:"text-center border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200"}," Secret "),e("th",{class:"text-center border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200"}," Scope "),e("th",{class:"text-center border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200"}," Nonce "),e("th",{class:"text-center border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200"}," Token "),e("th",{class:"text-center border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200"}," Setup URL "),e("th",{class:"text-center border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200"}," Callback URL "),e("th",{class:"text-center border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200"}," Consent URL "),e("th",{class:"whitespace-nowrap text-center border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200"}," Created at "),e("th",{class:"whitespace-nowrap text-center border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200"}," Updated at "),e("th",{class:"border-b dark:border-slate-600 font-medium p-4 pr-8 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-center"}," Publish "),e("th",{class:"border-b dark:border-slate-600 font-medium p-4 pr-8 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-center"}," Remove ")])],-1)),e("tbody",D,[e("tr",null,[t[11]||(t[11]=e("td",{class:"text-ellipsis overflow-hidden border-b border-slate-100 dark:border-slate-700 p-4 pl-8 text-slate-500 dark:text-slate-400"},null,-1)),e("td",L,[l(e("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>a.create.provider=r),class:"shadow"},null,512),[[o,a.create.provider]])]),e("td",P,[l(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>a.create.key=r),class:"shadow"},null,512),[[o,a.create.key]])]),e("td",R,[l(e("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>a.create.secret=r),class:"shadow"},null,512),[[o,a.create.secret]])]),e("td",T,[l(e("input",{"onUpdate:modelValue":t[4]||(t[4]=r=>a.create.scope=r),class:"shadow"},null,512),[[o,a.create.scope]])]),e("td",W,[l(e("input",{"onUpdate:modelValue":t[5]||(t[5]=r=>a.create.nonce=r),class:"shadow",type:"checkbox"},null,512),[[m,a.create.nonce]])]),e("td",$,[l(e("input",{"onUpdate:modelValue":t[6]||(t[6]=r=>a.create.token=r),class:"shadow"},null,512),[[o,a.create.token]])]),e("td",N,[l(e("input",{"onUpdate:modelValue":t[7]||(t[7]=r=>a.create.setup_url=r),class:"shadow"},null,512),[[o,a.create.setup_url]])]),t[12]||(t[12]=e("td",{class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},[e("input",{class:"shadow",readonly:"readonly"})],-1)),t[13]||(t[13]=e("td",{class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},[e("input",{class:"shadow",readonly:"readonly"})],-1)),t[14]||(t[14]=e("td",{class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},[e("input",{class:"shadow",readonly:"readonly"})],-1)),t[15]||(t[15]=e("td",{class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},[e("input",{class:"shadow",readonly:"readonly"})],-1)),e("td",j,[(c(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6 mx-auto cursor-pointer hover:text-slate-700",onClick:t[8]||(t[8]=(...r)=>n.createItem&&n.createItem(...r))},t[10]||(t[10]=[e("path",{"fill-rule":"evenodd",d:"M9.315 7.584C12.195 3.883 16.695 1.5 21.75 1.5a.75.75 0 01.75.75c0 5.056-2.383 9.555-6.084 12.436A6.75 6.75 0 019.75 22.5a.75.75 0 01-.75-.75v-4.131A15.838 15.838 0 016.382 15H2.25a.75.75 0 01-.75-.75 6.75 6.75 0 017.815-6.666zM15 6.75a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z","clip-rule":"evenodd"},null,-1),e("path",{d:"M5.26 17.242a.75.75 0 10-.897-1.203 5.243 5.243 0 00-2.05 5.022.75.75 0 00.625.627 5.243 5.243 0 005.022-2.051.75.75 0 10-1.202-.897 3.744 3.744 0 01-3.008 1.51c0-1.23.592-2.323 1.51-3.008z"},null,-1)])))]),t[16]||(t[16]=e("td",{class:"border-b border-slate-100 dark:border-slate-700 p-4 pr-8 text-slate-500 dark:text-slate-400"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6 mx-auto cursor-pointer hover:text-slate-700"},[e("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 013.878.512.75.75 0 11-.256 1.478l-.209-.035-1.005 13.07a3 3 0 01-2.991 2.77H8.084a3 3 0 01-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 01-.256-1.478A48.567 48.567 0 017.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 013.369 0c1.603.051 2.815 1.387 2.815 2.951zm-6.136-1.452a51.196 51.196 0 013.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 00-6 0v-.113c0-.794.609-1.428 1.364-1.452zm-.355 5.945a.75.75 0 10-1.5.058l.347 9a.75.75 0 101.499-.058l-.346-9zm5.48.058a.75.75 0 10-1.498-.058l-.347 9a.75.75 0 001.5.058l.345-9z","clip-rule":"evenodd"})])],-1))]),(c(!0),b(C,null,z((k=a.items)==null?void 0:k.data,r=>(c(),b("tr",null,[e("td",F,I(r.id),1),e("td",O,[l(e("input",{class:"shadow","onUpdate:modelValue":s=>r.provider=s,style:{height:"20px"}},null,8,q),[[o,r.provider]])]),e("td",E,[l(e("input",{class:"shadow","onUpdate:modelValue":s=>r.key=s},null,8,K),[[o,r.key]])]),e("td",G,[l(e("input",{class:"shadow","onUpdate:modelValue":s=>r.secret=s},null,8,J),[[o,r.secret]])]),e("td",Q,[l(e("input",{class:"shadow","onUpdate:modelValue":s=>r.scope=s},null,8,X),[[o,r.scope]])]),e("td",Y,[l(e("input",{class:"shadow","onUpdate:modelValue":s=>r.nonce=s,type:"checkbox"},null,8,Z),[[m,r.nonce]])]),e("td",ee,[l(e("input",{class:"shadow","onUpdate:modelValue":s=>r.token=s},null,8,te),[[o,r.token]])]),e("td",re,[l(e("input",{class:"shadow","onUpdate:modelValue":s=>r.setup_url=s},null,8,ae),[[o,r.setup_url]])]),e("td",se,[l(e("input",{class:"shadow","onUpdate:modelValue":s=>r.callback_url=s,readonly:"readonly"},null,8,le),[[o,r.callback_url]])]),e("td",oe,[l(e("input",{onClick:s=>n.consent(r.consent_url),class:"shadow","onUpdate:modelValue":s=>r.consent_url=s,readonly:"readonly"},null,8,de),[[o,r.consent_url]])]),e("td",ne,[l(e("input",{class:"shadow","onUpdate:modelValue":s=>r.created_at=s,readonly:"readonly"},null,8,ce),[[o,r.created_at]])]),e("td",pe,[l(e("input",{class:"shadow","onUpdate:modelValue":s=>r.updated_at=s,readonly:"readonly"},null,8,be),[[o,r.updated_at]])]),e("td",ie,[(c(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6 mx-auto cursor-pointer hover:text-slate-700",onClick:s=>n.updateItem(r)},t[17]||(t[17]=[e("path",{"fill-rule":"evenodd",d:"M9.315 7.584C12.195 3.883 16.695 1.5 21.75 1.5a.75.75 0 01.75.75c0 5.056-2.383 9.555-6.084 12.436A6.75 6.75 0 019.75 22.5a.75.75 0 01-.75-.75v-4.131A15.838 15.838 0 016.382 15H2.25a.75.75 0 01-.75-.75 6.75 6.75 0 017.815-6.666zM15 6.75a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z","clip-rule":"evenodd"},null,-1),e("path",{d:"M5.26 17.242a.75.75 0 10-.897-1.203 5.243 5.243 0 00-2.05 5.022.75.75 0 00.625.627 5.243 5.243 0 005.022-2.051.75.75 0 10-1.202-.897 3.744 3.744 0 01-3.008 1.51c0-1.23.592-2.323 1.51-3.008z"},null,-1)]),8,ue))]),e("td",xe,[(c(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6 mx-auto cursor-pointer hover:text-slate-700",onClick:s=>n.removeItem(r)},t[18]||(t[18]=[e("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 013.878.512.75.75 0 11-.256 1.478l-.209-.035-1.005 13.07a3 3 0 01-2.991 2.77H8.084a3 3 0 01-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 01-.256-1.478A48.567 48.567 0 017.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 013.369 0c1.603.051 2.815 1.387 2.815 2.951zm-6.136-1.452a51.196 51.196 0 013.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 00-6 0v-.113c0-.794.609-1.428 1.364-1.452zm-.355 5.945a.75.75 0 10-1.5.058l.347 9a.75.75 0 101.499-.058l-.346-9zm5.48.058a.75.75 0 10-1.498-.058l-.347 9a.75.75 0 001.5.058l.345-9z","clip-rule":"evenodd"},null,-1)]),8,ke))])]))),256))])])])])]}),_:1})]),_:1},8,["renderer"])}const fe=U(M,[["render",he]]);export{fe as default};
