import{T as d}from"./TemplateSetup-Co6CAMFK.js";import{_ as r,c as p,w as u,r as m,o as c,b as s,d as f,e as o,v as i,t as g}from"./index-COJNagva.js";import"./UtilityNavbar-BstfAzFS.js";import"./TemplateDefault-DFeK-qxG.js";const h={inject:["io"],components:{TemplateSetup:d},data:()=>({config:{email:"",password:""},loading:!1}),async created(){await this.connect()},methods:{async connect(){this.loading=!0;const e=await this.io.service("setup").get("admin");this.resolve(e)},async setup(e=!1){this.loading=!0;let t=await this.io.service("setup").update("admin",{...this.config,create:e});this.resolve(t)},async resolve(e){console.log("res",e),e&&!e.ready||this.$router.push("/login"),this.loading=!1}}},w=["disabled"],b={class:"mt-2"};function v(e,t,y,S,T,n){const l=m("TemplateSetup");return c(),p(l,null,{default:u(()=>[t[3]||(t[3]=s("h2",{class:"mb-2"}," Create Admin User ",-1)),t[4]||(t[4]=f()),o(s("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>e.config.email=a),class:"mb-3 font-extralight text-slate-800 py-2.5 px-2 rounded-md w-full",placeholder:"Email:"},null,512),[[i,e.config.email]]),o(s("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>e.config.password=a),class:"mb-3 font-extralight text-slate-800 py-2.5 px-2 rounded-md w-full",placeholder:"Password:",type:"password"},null,512),[[i,e.config.password]]),s("button",{onClick:t[2]||(t[2]=a=>n.setup()),disabled:e.loading,class:"hover:bg-fuchsia-950 mt-4 rounded-lg bg-fuchsia-900 w-full p-3",title:"Install using already running database instance"}," Submit ",8,w),s("h2",b," Loading: "+g(e.loading),1)]),_:1,__:[3,4]})}const k=r(h,[["render",v]]);export{k as default};
