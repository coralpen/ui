import{W as x}from"./UtilityNavbar-CzfCgum_.js";import w from"./TemplateDefault-BCs3i3Pq.js";import{S as f}from"./SectionHero-C_f05kHS.js";import{_ as g,c as k,w as i,r as c,o as l,a as p,b as e,f as o,e as u,v as m,F as _,g as y}from"./index-XFgfkqT_.js";const C={inject:["menus","io"],props:["renderer"],components:{WrapperPage:x,TemplateDefault:w,SectionHero:f},data:()=>({items:{},service:"environment",create:{key:"",value:""}}),async created(){try{this.resetCreate(),await this.getItems()}catch{}},methods:{async getItems(){this.items=await this.io.service(this.service).find()},async createItem(){try{await this.io.service(this.service).patch(this.create.key,this.create.value),await this.getItems(),this.resetCreate()}catch(r){console.error(r),alert(r.message)}},async patchItem({key:r,value:t}){if(!confirm(`Are you sure you want to update ${r} to ${t}?`))return!1;try{await this.io.service(this.service).patch(r,t),await this.getItems()}catch(d){console.error(d),alert(d.message)}},async removeItem({key:r}){if(!confirm(`Are you sure you want to remove ${r}?`))return!1;try{await this.io.service(this.service).remove(r),await this.getItems()}catch(t){console.error(t),alert(t.message)}},resetCreate(){this.create={key:"",value:""}}}},z={class:"relative overflow-auto w-full"},I={class:"flex-row-reverse flex"},B={class:"overflow-auto shadow-sm my-8"},M={class:"border-collapse table-auto w-full text-sm"},A={class:"bg-white dark:bg-slate-800"},H={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},V={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},S={class:"border-b border-slate-100 dark:border-slate-700 p-4 pr-8 text-slate-500 dark:text-slate-400"},D={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},P=["value"],T={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 text-center"},U=["onUpdate:modelValue"],W={class:"border-b border-slate-100 dark:border-slate-700 p-4 pr-8 text-slate-500 dark:text-slate-400"},E=["onClick"],L={class:"border-b border-slate-100 dark:border-slate-700 p-4 pr-8 text-slate-500 dark:text-slate-400"},j=["onClick"];function F(r,t,d,N,R,a){const v=c("SectionHero"),h=c("WrapperPage"),b=c("TemplateDefault");return l(),k(b,{title:"Settings",renderer:d.renderer},{default:i(()=>[p(v,null,{default:i(()=>t[4]||(t[4]=[e("h1",{class:"font-thin text-xl lg:text-3xl xl:pl-6 w-full text-center uppercase"}," Environment ",-1)])),_:1,__:[4]}),p(h,{class:"max-w-screen-2xl p-6"},{default:i(()=>[e("div",z,[t[10]||(t[10]=e("h2",{class:"font-semibold text-center"}," Be carefull, changing environment variables could potentially shut down the system. ",-1)),e("div",I,[e("button",{class:"rounded p-2 bg-slate-200",onClick:t[0]||(t[0]=(...s)=>a.getItems&&a.getItems(...s))}," Reload ")]),e("div",B,[e("table",M,[t[9]||(t[9]=e("thead",null,[e("tr",null,[e("th",{class:"text-center border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200"}," Key "),e("th",{class:"text-center border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200"}," Value "),e("th",{class:"border-b dark:border-slate-600 font-medium p-4 pr-8 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-center"}," Publish "),e("th",{class:"border-b dark:border-slate-600 font-medium p-4 pr-8 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-center"}," Remove ")])],-1)),e("tbody",A,[e("tr",null,[e("td",H,[u(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>r.create.key=s),class:"shadow"},null,512),[[m,r.create.key]])]),e("td",V,[u(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>r.create.value=s),class:"shadow"},null,512),[[m,r.create.value]])]),e("td",S,[(l(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6 mx-auto cursor-pointer hover:text-slate-700",onClick:t[3]||(t[3]=(...s)=>a.createItem&&a.createItem(...s))},t[5]||(t[5]=[e("path",{"fill-rule":"evenodd",d:"M9.315 7.584C12.195 3.883 16.695 1.5 21.75 1.5a.75.75 0 01.75.75c0 5.056-2.383 9.555-6.084 12.436A6.75 6.75 0 019.75 22.5a.75.75 0 01-.75-.75v-4.131A15.838 15.838 0 016.382 15H2.25a.75.75 0 01-.75-.75 6.75 6.75 0 017.815-6.666zM15 6.75a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z","clip-rule":"evenodd"},null,-1),e("path",{d:"M5.26 17.242a.75.75 0 10-.897-1.203 5.243 5.243 0 00-2.05 5.022.75.75 0 00.625.627 5.243 5.243 0 005.022-2.051.75.75 0 10-1.202-.897 3.744 3.744 0 01-3.008 1.51c0-1.23.592-2.323 1.51-3.008z"},null,-1)])))]),t[6]||(t[6]=e("td",{class:"border-b border-slate-100 dark:border-slate-700 p-4 pr-8 text-slate-500 dark:text-slate-400"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6 mx-auto cursor-pointer hover:text-slate-700"},[e("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 013.878.512.75.75 0 11-.256 1.478l-.209-.035-1.005 13.07a3 3 0 01-2.991 2.77H8.084a3 3 0 01-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 01-.256-1.478A48.567 48.567 0 017.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 013.369 0c1.603.051 2.815 1.387 2.815 2.951zm-6.136-1.452a51.196 51.196 0 013.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 00-6 0v-.113c0-.794.609-1.428 1.364-1.452zm-.355 5.945a.75.75 0 10-1.5.058l.347 9a.75.75 0 101.499-.058l-.346-9zm5.48.058a.75.75 0 10-1.498-.058l-.347 9a.75.75 0 001.5.058l.345-9z","clip-rule":"evenodd"})])],-1))]),(l(!0),o(_,null,y(Object.keys(r.items),s=>(l(),o("tr",null,[e("td",D,[e("input",{readonly:"",class:"shadow",value:s},null,8,P)]),e("td",T,[u(e("input",{class:"shadow","onUpdate:modelValue":n=>r.items[s]=n,style:{height:"20px"}},null,8,U),[[m,r.items[s]]])]),e("td",W,[(l(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6 mx-auto cursor-pointer hover:text-slate-700",onClick:n=>a.patchItem({key:s,value:r.items[s]})},t[7]||(t[7]=[e("path",{"fill-rule":"evenodd",d:"M9.315 7.584C12.195 3.883 16.695 1.5 21.75 1.5a.75.75 0 01.75.75c0 5.056-2.383 9.555-6.084 12.436A6.75 6.75 0 019.75 22.5a.75.75 0 01-.75-.75v-4.131A15.838 15.838 0 016.382 15H2.25a.75.75 0 01-.75-.75 6.75 6.75 0 017.815-6.666zM15 6.75a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z","clip-rule":"evenodd"},null,-1),e("path",{d:"M5.26 17.242a.75.75 0 10-.897-1.203 5.243 5.243 0 00-2.05 5.022.75.75 0 00.625.627 5.243 5.243 0 005.022-2.051.75.75 0 10-1.202-.897 3.744 3.744 0 01-3.008 1.51c0-1.23.592-2.323 1.51-3.008z"},null,-1)]),8,E))]),e("td",L,[(l(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6 mx-auto cursor-pointer hover:text-slate-700",onClick:n=>a.removeItem({key:s})},t[8]||(t[8]=[e("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 013.878.512.75.75 0 11-.256 1.478l-.209-.035-1.005 13.07a3 3 0 01-2.991 2.77H8.084a3 3 0 01-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 01-.256-1.478A48.567 48.567 0 017.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 013.369 0c1.603.051 2.815 1.387 2.815 2.951zm-6.136-1.452a51.196 51.196 0 013.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 00-6 0v-.113c0-.794.609-1.428 1.364-1.452zm-.355 5.945a.75.75 0 10-1.5.058l.347 9a.75.75 0 101.499-.058l-.346-9zm5.48.058a.75.75 0 10-1.498-.058l-.347 9a.75.75 0 001.5.058l.345-9z","clip-rule":"evenodd"},null,-1)]),8,j))])]))),256))])])])])]),_:1})]),_:1},8,["renderer"])}const G=g(C,[["render",F]]);export{G as default};
