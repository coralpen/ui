import{T as r}from"./TemplateSetup-Co6CAMFK.js";import{_ as u,c as p,w as d,r as g,o as c,b as s,e as l,d as f,i as n,t as m}from"./index-COJNagva.js";import"./UtilityNavbar-BstfAzFS.js";import"./TemplateDefault-DFeK-qxG.js";const b={inject:["io"],components:{TemplateSetup:r},data:()=>({config:{agreed:!1,production:!1},loading:!1}),async created(){await this.connect()},methods:{async connect(){this.loading=!0;const t=await this.io.service("setup").get("letsencrypt");this.resolve(t)},async setup(t=!1){this.loading=!0;let e=await this.io.service("setup").update("letsencrypt",{...this.config,create:t});this.resolve(e)},async resolve(t){t&&!t.ready||this.$router.push("/login"),this.loading=!1}}},y=["disabled"],h={class:"mt-2"};function v(t,e,S,k,w,a){const i=g("TemplateSetup");return c(),p(i,null,{default:d(()=>[e[3]||(e[3]=s("h2",{class:"mb-2"},[f(" Lets Encrypt "),s("a",{href:"https://community.letsencrypt.org/tos",target:"_blank",class:"hover:text-slate-200"}," Terms of Service ")],-1)),e[4]||(e[4]=s("br",null,null,-1)),e[5]||(e[5]=s("label",null,"Agree",-1)),l(s("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>t.config.agreed=o),class:"float-right",type:"checkbox"},null,512),[[n,t.config.agreed]]),e[6]||(e[6]=s("br",null,null,-1)),e[7]||(e[7]=s("label",null,"Production?",-1)),l(s("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>t.config.production=o),class:"float-right",type:"checkbox"},null,512),[[n,t.config.production]]),s("button",{onClick:e[2]||(e[2]=o=>a.setup()),disabled:t.loading,class:"hover:bg-fuchsia-950 mt-4 rounded-lg bg-fuchsia-900 w-full p-3",title:"Install using already running database instance"}," Submit ",8,y),s("h2",h," Loading: "+m(t.loading),1)]),_:1,__:[3,4,5,6,7]})}const x=u(b,[["render",v]]);export{x as default};
